<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>查詢掛號</title>
    <link rel="stylesheet" href="../../css/bootstrap.css" />
    <!-- <link rel="stylesheet" href="../../css/frontPage/frontPage.css"> -->
    <link rel="stylesheet" href="../../css/resevation/resevation.css" />
  </head>
  <body>
    <div class="container border p-0">
      <header></header>
      <main class="search-container">
        <div class="searchCard">
          <div class="title">查詢掛號</div>
          <div class="input">
            <input
              type="text"
              class="form-control patientId"
              placeholder="身分證字號"
            />
          </div>
          <div class="input">
            <input
              type="text"
              class="form-control patientDate"
              placeholder="出生年月日 2000/01/01"
            />
          </div>
          <div class="alert"></div>
          <div class="button">
            <button class="btn btn-primary" onclick="searchRegister()">
              查詢
            </button>
          </div>
        </div>
      </main>

      <div class="content-container">
        <dl></dl>
        <nav>
          <div class="title-container">
            <div class="title">看診線上預約</div>
            <div class="title">即時叫號 主動推播提醒</div>
          </div>
          <div class="button-container">
            <button class="btn btn-primary">google</button>
            <button class="btn btn-primary">apple</button>
          </div>
        </nav>
        <section>
          <div class="major-title">搜尋結果</div>
          <div class="major-content">
            <div class="switch-header d-center">
              <div class="total">共3個預約紀錄</div>
            </div>
            <div class="clinic-list">
              <dd class="clinic-item">
                <dl class="inform">
                  <div class="item name">丁文內科診所</div>
                  <div class="item tel">02-12345678</div>
                  <div class="item address">早診 09:00-12:00</div>
                  <div class="item address">莊耀熙醫師</div>
                  <div
                    class="item btn btn-detail"
                    data-bs-toggle="modal"
                    data-bs-target="#deleteModal"
                    onclick="deleRegisterModal('id帶進來')"
                  >
                    取消預約
                  </div>
                </dl>
                <div class="department-List">
                  <div class="item department">家醫科</div>
                  <div class="item department">家醫科</div>
                  <div class="item department">家醫科</div>
                </div>
              </dd>
            </div>
          </div>
        </section>
      </div>
      <footer></footer>
    </div>

    <div
      class="modal fade"
      id="deleteModal"
      tabindex="-1"
      aria-labelledby="deleteModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-danger" id="deleteModalLabel">
              確定刪除?
            </h5>
          </div>
          <div class="modal-body">刪除後預約無法復原,確定要刪除?</div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger w-100"
              onclick="deleRegister('預約的ID')"
            >
              確定刪除
            </button>
            <button
              type="button"
              class="btn btn-secondary w-100"
              onclick="deleRegisterModal()"
            >
              返回
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<!-- <script src="../../js/innerHeight.js"></script> -->
<!-- <script src="../../js/cityZoneSelect.js"></script> -->
<script src="../../component/Header.js"></script>
<!-- <script src="../../component/Navbar.js"></script>
<script src="../../component/Carousel.js"></script>
<script src="../../component/HashTagContainer.js"></script>
<script src="../../component/Title-line.js"></script> -->
<script src="../../component/Calendar.js"></script>
<script src="../../component/Footer.js"></script>
<script>
  Header();
  Footer();
</script>
<script>
  // delete
  function deleRegisterModal(rigisterId = null) {
    $("#deleteModal").modal("toggle");
    if (!rigisterId) {
      return;
    }
    let dom = document.querySelector("#deleteModal .modal-content");
    dom.setAttribute("data-id", rigisterId);
  }
  function deleRegister(params) {
    $("#deleteModal").modal("toggle");
    let registerId = document
      .querySelector("#deleteModal .modal-content")
      .getAttribute("data-id");
    console.log(registerId, "registerId");
    // do delete api and get the register ID
    // render UI by yourself
  }


  // search

  function searchRegister(){
    let patientId=document.querySelector(".searchCard .patientId").value
    let patientDate=document.querySelector(".searchCard .patientDate").value
    let alertDom=document.querySelector(".searchCard .alert")
    console.log(patientId,"patientId",patientDate,"patientDate")
    if (!patientId || !patientDate) {
      console.log("填寫格式有誤")

      alertDom.innerHTML=`填寫格式有誤`
      return
    }else{
      alertDom.innerHTML=""
      // call search API and u should get the list
      // render in your UI 
    }
  }
</script>
